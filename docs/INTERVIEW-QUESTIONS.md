# 面试问题

用于演练并验证你的设计与实现选择。

## 撮合

- 什么是价格优先/时间优先？如何实现？
- 当流动性不足时如何处理市价单？
- 如何避免自成交？

## 一致性

- 如何保证确定性与可回放？
- 幂等策略如何设计？

## 扩展性

- 如何分片并保持单交易对的顺序？
- 高负载下行情扇出如何做？

## 账本

- 为什么双录账本很重要？
- 如何对账撮合与账本？

## 故障处理

- 撮合引擎崩溃时如何处理？
- 订单簿如何重建？

## Java 与 JVM

- 如何用 JFR/jstack/GC log 定位延迟抖动？
- G1/ZGC 的调优思路与适用场景？
- ThreadLocal 泄漏与类加载器泄漏如何排查？
- safepoint 停顿的常见触发点有哪些？

## 中间件与存储

- Kafka 分区与顺序性如何保证？
- Redis 缓存一致性如何落地？
- ES 索引设计如何平衡写入与查询？
- Outbox/CDC 如何保证业务与消息一致？

## Spring Cloud 治理

- 限流/熔断/降级策略如何设计？
- 注册中心与配置中心如何容灾与回滚？
- Boot 3 体系下可观测如何落地（Micrometer/OTel）？

## 合约业务

- 单向/对冲持仓模式如何影响保证金与强平？
- 强平价与破产价如何计算？
- 资金费率如何计算与结算？

## 钱包与托管

- 热/冷钱包如何隔离？密钥如何管理？
- 充值确认与链重组如何处理？

## 账户与权限

- API Key 权限如何设计？如何防止越权？
- 子账户资金隔离如何落地？

## 清结算与对账

- 撮合、账本与钱包如何对账？
- 错账修复与补偿流程是什么？

## 行情与数据分发

- 快照与增量如何保持一致？
- 高负载下如何扇出与降级？

## 合规与法币

- KYC/AML 与制裁名单如何落地？
- 法币出入金如何对账与风控？
