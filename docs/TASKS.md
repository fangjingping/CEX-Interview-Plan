# 任务清单

挑选若干任务在本仓库实现，每一项都对应常见面试讨论点。

## 撮合 / 订单簿

- 支持撤单与改单
- 支持 post-only / IOC / FOK 订单类型
- 增加自成交保护
- 实现价格带与开盘集合竞价

## 风控与账本

- LIMIT 与 MARKET 的预冻结
- 双录账本与手续费核算
- 处理部分成交与剩余解冻
- 计算强平价与破产价（含风险限额阶梯）
- 资金费率的计算与结算模拟

## 可靠性与性能

- 订单簿快照 + 回放恢复
- 所有订单与成交的事件日志
- 延迟指标与慢消费者处理

## 行情

- 生成 L1/L2 盘口快照与增量
- 节流与扇出管道

## 系统设计

- 交易对与用户的分片策略
- 成交发布的 Exactly-once vs At-least-once

## 钱包与托管

- 充值幂等与确认数策略
- 提现冻结、审批与风险规则
- 热/冷钱包资产归集流程

## 账户与权限

- API Key 权限与最小权限模型
- 子账户资金隔离与划拨
- 操作审计与审批链路

## 清结算与对账

- 撮合/账本/钱包三方对账
- 手续费、返佣与资金费率结算
- 差异修复与补偿流程

## 行情与分发

- 快照 + 增量一致性方案
- 节流、合并与慢消费者处理
- 客户端断线重连回放

## 合规与法币

- KYC/AML 流程与审计留存
- 法币出入金对账与拒付处理

## Java 与 JVM

- 增加 GC/延迟指标采集与分析脚本
- 压测与 profiling 基线记录（P99/P999）
- 增加线程池饱和与拒绝策略演示

## 中间件与治理

- Kafka 分区顺序与幂等消费策略
- Redis 缓存 TTL 与热点 Key 保护
- ES 索引设计与查询一致性评估
- 限流、熔断、重试与降级策略演示
- Outbox/CDC 与消息一致性演示
