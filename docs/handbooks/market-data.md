# 行情与数据分发手册（CTO 面试向）

## 目标
覆盖行情生产、聚合与分发链路，强调顺序、延迟与可恢复性。

## 核心能力清单
- 数据类型：成交、盘口 L1/L2、指数价/标记价、资金费率。
- 生产链路：撮合结果 → 聚合 → 缓冲 → 推送。
- 分发策略：节流、合并、顺序号、断线重放与缺口检测。
- 质量控制：异常数据过滤、去噪与一致性校验。
- 协议与压缩：二进制协议、压缩与快照增量结合。

## 典型面试题与追问
必问
- 行情快照与增量如何保证一致？
- 高负载下如何扇出与降级？
追问
- 客户端断线重连如何恢复？
- 如何控制行情与撮合之间的延迟差？

## 回答结构建议
先定义数据类型与 SLA → 描述生产与分发链路 → 顺序/一致性方案 → 降级策略。

## 常见陷阱
- 只讲推送，不讲快照与增量的一致性。
- 缺少慢消费者与拥堵处理策略。

## 演示关联
- 代码模块：`market-data`
- 建议演示：盘口聚合与 Top N 快照。
